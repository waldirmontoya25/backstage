/*! For license information please see 71690741.e21916e5.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[601852],{603905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var r=n(667294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),f=a,h=p["".concat(l,".").concat(f)]||p[f]||d[f]||o;return n?r.createElement(h,i(i({ref:t},u),{},{components:n})):r.createElement(h,i({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},119012:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>f,frontMatter:()=>s,metadata:()=>c,toc:()=>p});n(827378);var r=n(603905);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const s={},l=void 0,c={unversionedId:"features/software-catalog/user-guide",id:"features/software-catalog/user-guide",title:"user-guide",description:"Overview",source:"@site/../docs/features/software-catalog/user-guide.md",sourceDirName:"features/software-catalog",slug:"/features/software-catalog/user-guide",permalink:"/docs/features/software-catalog/user-guide",draft:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/../docs/features/software-catalog/user-guide.md",tags:[],version:"current",frontMatter:{}},u={},p=[{value:"Overview",id:"overview",level:2},{value:"Descriptor Components used to build the Catalog Graph",id:"descriptor-components-used-to-build-the-catalog-graph",level:3},{value:"Use cases out of the box",id:"use-cases-out-of-the-box",level:2},{value:"Tracking Assets",id:"tracking-assets",level:2},{value:"Well-known trackable assets",id:"well-known-trackable-assets",level:3},{value:"Reference models",id:"reference-models",level:2}],d={toc:p};function f(e){var{components:t}=e,s=i(e,["components"]);return(0,r.kt)("wrapper",o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},d,s),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"#Architecting your Catalog"),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,'The Software Catalog in Backstage is intended to capture entities relevant to humans and have a clear mental model around them rather than an exhaustive inventory of all possible things. The focus is on attaching functionality and visual views centered around these entities. Determining the "edge" where the catalog ends and the external world begins is crucial to ensure that the catalog\'s scope is appropriate.\nThe Backstage software catalog is a centralized hub for organizing and discovering software components and services. However, there may not be better tools for keeping track of the dynamic relationships between these components and services in real-time. Its primary objective is to offer a high-level overview of concepts rather than runtime aspects and to provide a user-friendly interface. To integrate data from external sources, it is recommended to attach tooling to the nodes in the graph using annotations. A front-end plugin can also be developed to showcase deployment information and other real-time data.\nIt is worth noting that the Backstage database should not be considered the ultimate source of truth. Instead, it is advisable to use the Backstage Catalog as a caching mechanism that utilizes a REST API to convey information to the catalog UI and other Backstage plugins. Adopting a GitOps approach is recommended to modify YAML files in Backstage, treating YAML files in repositories as the primary source of truth and using Scaffolder to make changes via the UI and generate a pull request in the repository with the updated changes.'),(0,r.kt)("h3",{id:"descriptor-components-used-to-build-the-catalog-graph"},"Descriptor Components used to build the Catalog Graph"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Entities:")," An entity refers to a node in the graph that represents a distinct object, concept, or thing. Nodes are the fundamental building blocks of a graph database and are used to represent entities and their properties."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(933436).Z,width:"671",height:"671"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Kinds:"),' These are broad categories used to group related entities. Kinds are used to provide a high-level categorization of entities, such as "service", "database", or "team". Kinds are often used to provide a way to filter entities in the catalog and to provide a high-level overview of the types of entities that are being managed.'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Relations:")," These are links between different entities in the catalog. Relations express the relationships between different entities, such as dependencies or ownership. Adopters can use relations to help users navigate the catalog and understand the relationships between different entities."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec:"),' A specification or "spec" is a schema that outlines the data structure of an entity in the Backstage catalog. It defines the properties, relationships, data types, and constraints for an entity, ensuring consistency and accuracy of data while allowing for easy sharing and consumption of data across components and plugins. Specs are useful when creating or extending entities and can help make data more reusable and interoperable. The spec section is fully customizable, and users can create their own components and plugins to render the information.'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Types:"),' These are more specific categories used to classify entities within a given Kind. Types provide a more granular categorization of entities, such as "frontend-service" or "backend-service.". Types are often used to provide additional context and information about an entity and to help users understand the role and function of the entity within the broader system.'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Annotations:")," These key-value pairs can be attached to an entity in the catalog. They are typically used to add additional information or metadata to an entity. Annotations are often used to provide information that is used by automated tools or scripts and to provide further context to humans working with the entity or refer plugins to the external world."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Statuses:")," These indicators represent an entity's current state. They are typically used to show whether an entity is healthy or not, whether it is up-to-date or out-of-date, or whether it is passing or failing various checks or tests."),(0,r.kt)("h2",{id:"use-cases-out-of-the-box"},"Use cases out of the box"),(0,r.kt)("p",null,"The catalog builds a graph using descriptors as nodes and relations as edges. Out of the box you get the following use cases:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Ownership tracking"),(0,r.kt)("li",{parentName:"ul"},"Inventory"),(0,r.kt)("li",{parentName:"ul"},"Search"),(0,r.kt)("li",{parentName:"ul"},"Lifecycle tracking"),(0,r.kt)("li",{parentName:"ul"},"Tracking of real-time information sources"),(0,r.kt)("li",{parentName:"ul"},"Dependency mapping"),(0,r.kt)("li",{parentName:"ul"},"API exposure")),(0,r.kt)("h2",{id:"tracking-assets"},"Tracking Assets"),(0,r.kt)("p",null,"The recommended approach would be to represent information in catalog-info files, which the users themselves can manage. While automated classification based on repository contents can be helpful, it is recommended to use it only to generate the initial file and then allow humans to maintain it manually. The reason is that automation can sometimes fail, and it is essential to ensure the accuracy and reliability of this metadata. In short, humans should govern this piece of metadata to maintain its integrity."),(0,r.kt)("h3",{id:"well-known-trackable-assets"},"Well-known trackable assets"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Software Components")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Services"),(0,r.kt)("li",{parentName:"ul"},"Websites"),(0,r.kt)("li",{parentName:"ul"},"Libraries"),(0,r.kt)("li",{parentName:"ul"},"Data Pipelines"),(0,r.kt)("li",{parentName:"ul"},"Machine Learning Models"),(0,r.kt)("li",{parentName:"ul"},"Third-party software components: It is recommended to have a separate repo for all 3d party catalog-info files.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Systems")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Jira installation"),(0,r.kt)("li",{parentName:"ul"},"Pageduty"),(0,r.kt)("li",{parentName:"ul"},"Physical resources: This is probably more useful for longer-lived ones (eg, servers).")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Ownership - users - groups by")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Business units"),(0,r.kt)("li",{parentName:"ul"},"Team"),(0,r.kt)("li",{parentName:"ul"},"Product area")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Naming strategies:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Ldap: Internal ldap usernames as entity names. e.g., owner: user:myuser or user: my-team-name.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Ownership strategies:")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Ownership based on teams:"),' The concept of ownership in the system is team-centric; hence, the "owner" field must reference the LDAP name of a squad according to a prescribed set of regulations. While there may be instances where the ownership is attributed to an individual, such deviations might create challenges. In such cases, the user could receive a notification through the web interface, highlighting that this departure is an exception and needs rectification. To ensure adherence to this system, every entity in the model should have a designated owner, preferably a valid team within the LDAP hierarchy.'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Ownership of features:"),' To track the ownership of specific features within your products and their interrelationships, two options are available: introducing a new component type, such as "feature," or creating a new Kind altogether. Nonetheless, it is advisable to choose the former approach and introduce a new type, like "feature," is advisable as it is less complicated and poses a lower risk.'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"LDAP doesn\u2019t reflect the organization structure:")," If Workday or a similar system serves as the source of truth, and LDAP is utilized for user attributes, it is advisable to develop a layer on top of various systems to establish a unified API that the entire organization can query, rather than only Backstage."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"APIs")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"OpenApi"),(0,r.kt)("li",{parentName:"ul"},"AsyncApi"),(0,r.kt)("li",{parentName:"ul"},"graphQL"),(0,r.kt)("li",{parentName:"ul"},"gRPC")),(0,r.kt)("p",null,"APIs Could list networked services or libraries and it\u2019s particularly useful to identify APIs that form boundaries between systems. There are some considerations to keep in mind:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"API versions:")," It\u2019s not recommended to have multiple entity instances (e.g., metadata.name: my-api-v1 and metadata.name: my-api-v2)."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Detail:")," It\u2019s not recommended going too granular because the catalog in its current form won't perhaps be a great platform to express it."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Relationships between APIs:")," The idea is that you have a service component that exposes an api and then, it's not the api that consumes the other api, it's the component that consumes the other api."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Backend for front end API (BFF):"),' The suggestion is to create separate components for the frontend and backend services, with the frontend component having a type of "website" and the backend component having a type of "service". This is because the BFF API is tailored for a specific UI and is not meant to be used by others, making it unnecessary to include in the catalog.'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"API registry:")," The exploration of all APIs within an organization is a typical use case for an API registry."),(0,r.kt)("h2",{id:"reference-models"},"Reference models"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"C4 model:")," For inspiration, you could review the ",(0,r.kt)("a",{parentName:"p",href:"https://c4model.com/"},"C4 model"),", which defines a pattern for visualizing software architecture."))}f.isMDXComponent=!0},933436:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/entity-ba1a65a26eafc4a36cf67c673e7aef46.svg"},862525:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,o){for(var i,s,l=a(e),c=1;c<arguments.length;c++){for(var u in i=Object(arguments[c]))n.call(i,u)&&(l[u]=i[u]);if(t){s=t(i);for(var p=0;p<s.length;p++)r.call(i,s[p])&&(l[s[p]]=i[s[p]])}}return l}},541535:(e,t,n)=>{var r=n(862525),a=60103,o=60106;var i=60109,s=60110,l=60112;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;a=p("react.element"),o=p("react.portal"),p("react.fragment"),p("react.strict_mode"),p("react.profiler"),i=p("react.provider"),s=p("react.context"),l=p("react.forward_ref"),p("react.suspense"),c=p("react.memo"),u=p("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var v=b.prototype=new y;v.constructor=b,r(v,g.prototype),v.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var r,o={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,r)&&!O.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:a,type:e,key:i,ref:s,props:o,_owner:k.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var N=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case a:case o:l=!0}}if(l)return i=i(l=e),e=""===r?"."+T(l,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(N,"$&/")+"/"),A(i,t,n,"",(function(e){return e}))):null!=i&&(P(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+T(s=e[c],c);l+=A(s,t,n,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,n,u=r+T(s,c++),i);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function S(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function x(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function _(){var e=I.current;if(null===e)throw Error(f(321));return e}},827378:(e,t,n)=>{n(541535)}}]);